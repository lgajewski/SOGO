<!--<link rel="stylesheet" type="text/css" href="css/style-list.css">-->

<div class="container">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Containers</h3>
        </div>
        <ul class="list-group">
            <li class="list-group-item" ng-repeat="item in pagedItems[currentPage]">
                <div class="row toggle" ng-click="showDetail(item);" ng-class-odd="'alt'">
                    <div class="col-xs-1"><i class="fa fa-chevron-down"></i></div>
                    <div class="col-xs-11 col-sm-9">Container {{item.id}}
                    </div>
                    <div class="col-xs-12 col-sm-2">
                    <button type="button" class="btn btn-default btn-xs"  ng-click="editContainer(item);$event.stopPropagation()">Edit</button>
                    <button type="button" class="btn btn-default btn-xs"  ng-click="deleteContainer(item);$event.stopPropagation()">Delete</button>
                    </div>
                </div>
                <div ng-show="active==item.id" ng-class-odd="'alt'">
                    <hr/>
                    <div class="container">
                        <div class="fluid-row">
                            <div class="col-xs-12 col-sm-3">
                                <b>ID:</b>
                            </div>
                            <div class="col-xs-12 col-sm-9">
                                {{item.id}}
                            </div>
                            <div class="col-xs-12 col-sm-3">
                                <b>Type:</b>
                            </div>
                            <div class="col-xs-12 col-sm-9">
                                {{item.type}}
                            </div>
                            <div class="col-xs-12 col-sm-3">
                                <b>Location:</b>
                            </div>
                            <div class="col-xs-12 col-sm-9">
                                <div ng-if="active==item.id" ng-class-odd="'alt'">
                                    <div ng-controller="HomeController" >
                                        <ui-gmap-google-map center='activeObject.map.center' zoom='activeObject.map.zoom'>
                                            <div>
                                                <ui-gmap-marker coords="activeObject.coords" options="activeObject.options" events="activeObject.events" idkey="activeObject.id">
                                                </ui-gmap-marker>
                                            </div>
                                        </ui-gmap-google-map>

                                    </div>
                                </div>
                                {{item.location.latitude + ', ' + item.location.longitude}}
                            </div>
                            <div class="col-xs-12 col-sm-3">
                                <b>Capacity:</b>
                            </div>
                            <div class="col-xs-12 col-sm-9">
                                {{item.capacity}} kg
                            </div>
                            <div class="col-xs-12 col-sm-3">
                                <b>Filling percentage:</b>
                            </div>
                            <div class="col-xs-12 col-sm-9">
                                {{item.sensors.load.value.toFixed(2)}}%
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
        <div class="pagination pull-right">
            <ul>
                <li ng-class="{disabled: currentPage == 0}">
                    <a href ng-click="prevPage()">« Prev</a>
                </li>

                <li ng-repeat="n in range(pagedItems.length, currentPage, currentPage + gap) "
                    ng-class="{active: n == currentPage}"
                    ng-click="setPage()">
                    <a href ng-bind="n + 1">1</a>
                </li>

                <li ng-class="{disabled: (currentPage) == pagedItems.length - 1}">
                    <a href ng-click="nextPage()">Next »</a>
                </li>
            </ul>
        </div>
    </div>
</div>
